(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{1439:(e,t,a)=>{Promise.resolve().then(a.bind(a,6724))},6046:(e,t,a)=>{"use strict";var r=a(6658);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},6724:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(5155),i=a(2115),s=a(232),l=a(7295),n=a(5565),c=a(3391);let d=e=>{let{items:t,handleSubString:a,isId:i,router:s}=e,d=(0,c.wA)(),o=e=>{a(e)};return(0,r.jsxs)("li",{onClick:s,className:"border-2 border-gray-300 p-5 flex flex-col justify-between cursor-pointer",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.default,{className:"w-full",width:500,height:500,src:null==t?void 0:t.thumbnail,alt:null==t?void 0:t.title,unoptimized:!0}),(0,r.jsx)("h2",{children:null==t?void 0:t.title}),(0,r.jsxs)("p",{children:[(null==t?void 0:t.id)&&i===(null==t?void 0:t.id)?null==t?void 0:t.description:(null==t?void 0:t.description.substring(0,50))+"...",(0,r.jsx)("button",{type:"button",className:"px-2 font-bold",onClick:e=>{e.stopPropagation(),o(null==t?void 0:t.id)},children:(null==t?void 0:t.id)&&i===(null==t?void 0:t.id)?"See Less":"See More"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,r.jsxs)("h3",{children:["Price: $",null==t?void 0:t.price]}),(0,r.jsx)("button",{type:"button",className:"add-item-btn",onClick:e=>{e.stopPropagation(),d((0,l.B5)(t))},children:(null==t?void 0:t.isAdded)?"Item Added":"Add Item"})]})]},null==t?void 0:t.id)};var o=a(6046);async function u(){let e=await fetch("".concat("https://dummyjson.com/products"));return(await e.json()).products}let m=["beautyId","groceriesId","fragrancesId","furnitureId"],h=()=>{let[e,t]=(0,i.useState)([]),[a,l]=(0,i.useState)([]),[n,c]=(0,i.useState)(0),[h,p]=(0,i.useState)([]),[g,f]=(0,i.useState)(30),y=(0,o.useRouter)();(0,i.useEffect)(()=>{(async()=>{let e=await u();l(e),t(e)})()},[]),(0,i.useEffect)(()=>{0!==h.length?t(h):t(a)},[h,a]);let x=e=>{e===n?c(0):c(e)},j=t=>{let r=a.filter(a=>{if(a.category===t)return e.map(e=>{if(e.id!==a.id)return a})});p(e=>[...e,...r])},b=e=>{p(h.filter(t=>t.category!==e))},v=(e,t)=>{e.target.checked&&t?j(t):b(t)},N=e=>{y.push("/products/".concat(e))};return(0,r.jsx)("section",{className:"p-3 text-white",children:(null==e?void 0:e.length)===0?(0,r.jsx)(s.A,{}):(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"filtered-container p-3 sticky top-[100px]",children:[(0,r.jsxs)("form",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex gap-2 justify-between items-center my-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"beautyId",children:"Beauty"}),(0,r.jsx)("span",{className:"mx-2",children:a.filter(e=>"beauty"===e.category).length})]}),(0,r.jsx)("input",{type:"checkbox",onChange:e=>v(e,"beauty"),name:"beauty",id:"beautyId"})]}),(0,r.jsxs)("div",{className:"flex gap-2 justify-between items-center my-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"groceriesId",children:"Groceries"}),(0,r.jsx)("span",{className:"mx-2",children:a.filter(e=>"groceries"===e.category).length})]}),(0,r.jsx)("input",{type:"checkbox",onChange:e=>v(e,"groceries"),name:"groceries",id:"groceriesId"})]}),(0,r.jsxs)("div",{className:"flex gap-2 justify-between items-center my-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"fragrancesId",children:"Fragrances"}),(0,r.jsx)("span",{className:"mx-2",children:a.filter(e=>"fragrances"===e.category).length})]}),(0,r.jsx)("input",{type:"checkbox",onChange:e=>v(e,"fragrances"),name:"fragrances",id:"fragrancesId"})]}),(0,r.jsxs)("div",{className:"flex gap-2 justify-between items-center my-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"furnitureId",children:"Furniture"}),(0,r.jsx)("span",{className:"mx-2",children:a.filter(e=>"furniture"===e.category).length})]}),(0,r.jsx)("input",{type:"checkbox",onChange:e=>v(e,"furniture"),name:"furniture",id:"furnitureId"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center gap-2 my-2",children:[(0,r.jsx)("label",{htmlFor:"price",children:"Price"}),(0,r.jsx)("input",{type:"range",min:"0",max:"1000",value:g,onChange:e=>{let r=parseInt(e.target.value);t(a.filter(e=>e.price>=r)),f(r)}})]})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{p([]),m.map(e=>{let t=document.getElementById(e);t&&(t.checked=!1)})},className:"my-1 rounded-[5px] px-3 border-2 border-solid border-white float-right",children:"Clear"})]}),(0,r.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3  list-none gap-3",children:0!==e.length&&e.map(e=>(0,r.jsx)(d,{router:()=>N(e.id),items:e,isId:n,handleSubString:e=>x(e)},e.id))})]})})}},7295:(e,t,a)=>{"use strict";a.d(t,{$V:()=>m,Ay:()=>l,B5:()=>n,CG:()=>d,LD:()=>o,TV:()=>u,U4:()=>h,VL:()=>p,o7:()=>c});var r=a(8943);let i={userName:"",cart:[],total:0,isUserLoggedIn:!1,pathName:"/"},s=(0,r.Z0)({name:"cart",initialState:i,reducers:{addItem:(e,t)=>{e.cart.length>0?(e.cart.find(e=>e.id===t.payload.id)||(e.cart.push(t.payload),e.cart.forEach(e=>{e.quantity||(e.quantity=1,e.amount=e.price,e.isAdded=!0)})),e.total=0,e.cart.forEach(t=>{e.total+=t.amount})):(e.cart.push(t.payload),e.cart.forEach(t=>{t.quantity||(t.quantity=1,t.amount=t.price,t.isAdded=!0),e.total+=t.price}));let a=localStorage.getItem("userDetails");if(null!==a){let t=JSON.parse(a).map(t=>t.isLogged?{...t,cart:e.cart,total:e.total.toFixed(2)}:t);localStorage.setItem("userDetails",JSON.stringify(t))}},increaseQuantity:(e,t)=>{let a=e.cart.find(e=>e.id===t.payload.id);if(a){if(a.quantity<a.minimumOrderQuantity){a.quantity+=1,a.amount=a.quantity*a.price,e.total+=a.price;let t=localStorage.getItem("userDetails");if(null!==t){let a=JSON.parse(t).map(t=>t.isLogged?{...t,cart:e.cart,total:e.total.toFixed(2)}:t);localStorage.setItem("userDetails",JSON.stringify(a))}}else alert("You have reached the maximum quantity")}},decreaseQuantity:(e,t)=>{let a=e.cart.find(e=>e.id===t.payload.id);if(a&&1!==a.quantity){a.quantity-=1,a.amount=a.quantity*a.price,e.total-=a.price;let t=localStorage.getItem("userDetails");if(null!==t){let a=JSON.parse(t).map(t=>t.isLogged?{...t,cart:e.cart,total:e.total.toFixed(2)}:t);localStorage.setItem("userDetails",JSON.stringify(a))}}},deleteItem:(e,t)=>{let a=e.cart.filter(a=>{if(a.id!==t.payload.id)return a;e.total-=a.amount,a.isAdded=!1});0!==a.length?e.cart=a:(e.total=0,e.cart=[]);let r=localStorage.getItem("userDetails");if(null!==r){let t=JSON.parse(r).map(t=>t.isLogged?{...t,cart:a,total:e.total.toFixed(2)}:t);localStorage.setItem("userDetails",JSON.stringify(t))}},setAuth:(e,t)=>{e.isUserLoggedIn=t.payload.isTrue,e.userName=t.payload.user},addCart:(e,t)=>{t.payload&&(e.cart=t.payload,t.payload.forEach(t=>{t.amount=t.price*t.quantity,e.total+=t.amount}))},setPathName:(e,t)=>{e.pathName=t.payload},resetState:()=>i}}),l=(0,r.U1)({reducer:{cart:s.reducer}}),{addItem:n,increaseQuantity:c,decreaseQuantity:d,deleteItem:o,setAuth:u,resetState:m,addCart:h,setPathName:p}=s.actions},232:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(5155);function i(){return(0,r.jsx)("div",{className:"h-[100vh] flex justify-center items-center",children:(0,r.jsx)("span",{className:"loader"})})}a(9333)},9333:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[572,970,133,441,517,358],()=>t(1439)),_N_E=e.O()}]);