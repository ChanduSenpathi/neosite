(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4460:(e,t,a)=>{Promise.resolve().then(a.bind(a,2091))},2091:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(5155),l=a(5565);a(836);var i=a(7396),r=a(6046),n=a(3391),c=a(7295),o=a(2115);let d=[{id:1,name:"Home",path:"/"},{id:2,name:"About",path:"/about"},{id:3,name:"Products",path:"/products"},{id:4,name:"Contact Us",path:"/contact"}],u=o.memo(function(){let e=(0,r.usePathname)(),{cart:t,total:a,isUserLoggedIn:u,userName:m}=(0,n.d4)(e=>e.cart),h=(0,n.wA)(),[p,x]=(0,o.useState)(!1),g=(0,r.useRouter)(),f=async(e,t)=>{3!==e&&x(!1),h((0,c.VL)(t));let a=localStorage.getItem("userDetails");if(null!==a){let e=JSON.parse(a).map(e=>(e.isLogged&&(e.pathName=t),e));localStorage.setItem("userDetails",JSON.stringify(e))}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("nav",{className:"p-[10px] flex justify-between items-center sticky top-0 left-0 w-full nav-container",children:[(0,s.jsx)("a",{href:"#",children:(0,s.jsx)(l.default,{className:"w-[100px] h-[67px]",width:500,height:500,src:"/images/logo.png",alt:"logo",unoptimized:!0})}),u&&(0,s.jsxs)("ul",{className:"list-none flex justify-between items-center gap-5 text-[white]",children:[d.map(t=>(0,s.jsx)("li",{children:(0,s.jsx)(i.default,{href:t.path,onClick:()=>f(t.id,e),className:"".concat(e===t.path?"nav-active":""," text-[white] fw-bold"),children:t.name})},t.id)),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{type:"button",className:"w-[35px] relative",onClick:()=>x(!0),children:[(0,s.jsx)(l.default,{src:"/images/cart.png",width:100,height:100,className:"w-full h-full",alt:"cart-icon",unoptimized:!0}),(0,s.jsx)("span",{className:"cart-span-item",children:"".concat(t?t.length:0)})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{let e=localStorage.getItem("userDetails");if(null!==e){let t=JSON.parse(e);t.forEach(e=>{e.username===m&&(e.isLogged=!1,localStorage.setItem("currentUser",""),localStorage.setItem("userDetails",JSON.stringify(t)),g.push("/"))})}h((0,c.TV)({isTrue:!1,user:""})),h((0,c.$V)()),x(!1),g.push("/login")},className:"bg-white text-[black] px-3 py-1 rounded-[10px]",children:"Logout"}),(0,s.jsxs)("span",{className:"font-bold",children:["Hello ",m]})]})]}),(0,s.jsxs)("div",{className:"cart-popup",style:{top:p?"87px":"-500%",opacity:p?"1":"0",transition:"all 0.3s ease-in-out",backgroundColor:"rgb(31, 41, 56)",border:"1px solid white"},children:[(0,s.jsx)("button",{type:"button",className:"absolute right-[10px] top-[10px]",onClick:()=>x(!1),children:(0,s.jsx)(l.default,{src:"/images/close.png",width:15,height:15,alt:"close-icons",unoptimized:!0})}),0!==t.length?(0,s.jsx)("ul",{className:"list-none p-4",children:t.length>0&&t.map(e=>(0,s.jsx)("li",{className:"py-2 text-white",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(l.default,{className:"w-[100px] h-[100px]",width:100,height:100,src:e.thumbnail,alt:e.title,unoptimized:!0}),(0,s.jsxs)("div",{className:"ms-2",children:[(0,s.jsx)("h5",{children:e.title}),(0,s.jsxs)("div",{className:"flex gap-3 items-center my-3",children:[(0,s.jsx)("span",{children:"Quantity"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{type:"button",onClick:()=>h((0,c.CG)(e)),className:"px-2 border-slate-500 border-2 border-solid",children:"-"}),(0,s.jsx)("span",{className:"mx-2",children:e.quantity}),(0,s.jsx)("button",{type:"button",onClick:()=>h((0,c.o7)(e)),className:"px-2 border-slate-500 border-2 border-solid",children:"+"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{type:"button",className:"w-[20px] h-[25px]",onClick:()=>h((0,c.LD)(e)),children:(0,s.jsx)(l.default,{className:"w-full h-full",width:500,height:500,src:"/images/delete.png",alt:"delete-item",unoptimized:!0})}),(0,s.jsxs)("span",{children:["Rs: ",e.amount.toFixed(2)]})]})]})},e.id))}):(0,s.jsx)("h3",{className:"text-center text-white p-4 font-bold text-[24px]",children:"No items Added"}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-3 bg-green-100 sticky bottom-0",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["Rs: ",a.toFixed(2)]})]})]})]})})}),m=o.memo(function(){return(0,s.jsxs)("div",{className:"flex justify-between items-center text-[white] px-3 my-5",children:[(0,s.jsx)("span",{children:"Chandu Senapathi"}),(0,s.jsx)("span",{children:"\xa9 copyrights reserved"})]})});a(347);let h=e=>{let{children:t}=e,a=(0,r.useRouter)(),l=(0,n.wA)(),i=(0,r.usePathname)();return(0,o.useEffect)(()=>{let e=localStorage.getItem("currentUser"),t=localStorage.getItem("userDetails");null!==t&&JSON.parse(t).forEach(t=>{t.isLogged&&(void 0!==t.cart&&l((0,c.U4)(t.cart)),l((0,c.TV)({isTrue:!0,user:null!=e?e:""})),"/login"===i&&a.push("/"))}),e||a.push("/login")},[a,l,i]),(0,s.jsx)("div",{children:t})};function p(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"top-progress"})})}function x(e){let{children:t}=e,[a,l]=(0,o.useState)(!0),i=(0,r.usePathname)();return(0,o.useEffect)(()=>{l(!0);let e=setTimeout(()=>{l(!1)},1e3);return()=>clearInterval(e)},[i]),console.log(a),(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:"bg-gray-800",children:(0,s.jsx)(n.Kq,{store:c.Ay,children:(0,s.jsxs)("section",{className:"main-container flex flex-col justify-between",children:[(0,s.jsx)(u,{}),(0,s.jsxs)(h,{children:[a&&(0,s.jsx)(p,{}),(0,s.jsx)("main",{children:t})]}),(0,s.jsx)(m,{})]})})})})}a(6069)},7295:(e,t,a)=>{"use strict";a.d(t,{$V:()=>m,Ay:()=>r,B5:()=>n,CG:()=>o,LD:()=>d,TV:()=>u,U4:()=>h,VL:()=>p,o7:()=>c});var s=a(8943);let l={userName:"",cart:[],total:0,isUserLoggedIn:!1,pathName:"/"},i=(0,s.Z0)({name:"cart",initialState:l,reducers:{addItem:(e,t)=>{e.cart.length>0?(e.cart.find(e=>e.id===t.payload.id)||(e.cart.push(t.payload),e.cart.forEach(e=>{e.quantity||(e.quantity=1,e.amount=e.price,e.isAdded=!0)})),e.total=0,e.cart.forEach(t=>{e.total+=t.amount})):(e.cart.push(t.payload),e.cart.forEach(t=>{t.quantity||(t.quantity=1,t.amount=t.price,t.isAdded=!0),e.total+=t.price}));let a=localStorage.getItem("userDetails");if(null!==a){let t=JSON.parse(a).map(t=>t.isLogged?{...t,cart:e.cart,total:e.total.toFixed(2)}:t);localStorage.setItem("userDetails",JSON.stringify(t))}},increaseQuantity:(e,t)=>{let a=e.cart.find(e=>e.id===t.payload.id);if(a){if(a.quantity<a.minimumOrderQuantity){a.quantity+=1,a.amount=a.quantity*a.price,e.total+=a.price;let t=localStorage.getItem("userDetails");if(null!==t){let a=JSON.parse(t).map(t=>t.isLogged?{...t,cart:e.cart,total:e.total.toFixed(2)}:t);localStorage.setItem("userDetails",JSON.stringify(a))}}else alert("You have reached the maximum quantity")}},decreaseQuantity:(e,t)=>{let a=e.cart.find(e=>e.id===t.payload.id);if(a&&1!==a.quantity){a.quantity-=1,a.amount=a.quantity*a.price,e.total-=a.price;let t=localStorage.getItem("userDetails");if(null!==t){let a=JSON.parse(t).map(t=>t.isLogged?{...t,cart:e.cart,total:e.total.toFixed(2)}:t);localStorage.setItem("userDetails",JSON.stringify(a))}}},deleteItem:(e,t)=>{let a=e.cart.filter(a=>{if(a.id!==t.payload.id)return a;e.total-=a.amount,a.isAdded=!1});0!==a.length?e.cart=a:(e.total=0,e.cart=[]);let s=localStorage.getItem("userDetails");if(null!==s){let t=JSON.parse(s).map(t=>t.isLogged?{...t,cart:a,total:e.total.toFixed(2)}:t);localStorage.setItem("userDetails",JSON.stringify(t))}},setAuth:(e,t)=>{e.isUserLoggedIn=t.payload.isTrue,e.userName=t.payload.user},addCart:(e,t)=>{t.payload&&(e.cart=t.payload,t.payload.forEach(t=>{t.amount=t.price*t.quantity,e.total+=t.amount}))},setPathName:(e,t)=>{e.pathName=t.payload},resetState:()=>l}}),r=(0,s.U1)({reducer:{cart:i.reducer}}),{addItem:n,increaseQuantity:c,decreaseQuantity:o,deleteItem:d,setAuth:u,resetState:m,addCart:h,setPathName:p}=i.actions},347:()=>{},6069:()=>{},836:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[990,690,292,970,133,463,441,517,358],()=>t(4460)),_N_E=e.O()}]);